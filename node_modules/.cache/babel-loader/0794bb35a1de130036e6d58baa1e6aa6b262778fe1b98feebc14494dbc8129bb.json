{"ast":null,"code":"var _jsxFileName = \"C:\\\\lab_8\\\\web_programming_lab6-12\\\\src\\\\components\\\\Catalog\\\\catalog.jsx\",\n  _s = $RefreshSig$();\n// Catalog.js\nimport React, { useState, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport '../BooksList/Books.css';\nimport { BookContext } from '../BookContext.js';\nimport SortSelect from '../select.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Catalog = () => {\n  _s();\n  const {\n    books\n  } = useContext(BookContext);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [sortOrder, setSortOrder] = useState('asc');\n  const [selectedGenre, setSelectedGenre] = useState('');\n  const handleSearch = e => {\n    setSearchTerm(e.target.value);\n  };\n  const handleSortChange = order => {\n    setSortOrder(order);\n  };\n  const handleGenreChange = e => {\n    setSelectedGenre(e.target.value);\n  };\n  const filteredBooks = books.filter(book => book.title.toLowerCase().includes(searchTerm.toLowerCase()) && (selectedGenre === '' || book.genre.includes(selectedGenre))).sort((a, b) => sortOrder === 'asc' ? a.title.localeCompare(b.title) : b.title.localeCompare(a.title));\n  const uniqueGenres = [...new Set(books.flatMap(book => book.genre.split(', ').map(g => g.trim())))];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"books-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"books-title\",\n      children: \"\\u041A\\u0430\\u0442\\u0430\\u043B\\u043E\\u0433 \\u043A\\u043D\\u0438\\u0433\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\u041F\\u043E\\u0448\\u0443\\u043A \\u043A\\u043D\\u0438\\u0433\",\n        value: searchTerm,\n        onChange: handleSearch,\n        className: \"search-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SortSelect, {\n        sortOrder: sortOrder,\n        onSortChange: handleSortChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedGenre,\n        onChange: handleGenreChange,\n        className: \"genre-select\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"\\u0412\\u0441\\u0456 \\u0436\\u0430\\u043D\\u0440\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), uniqueGenres.map(genre => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: genre,\n          children: genre\n        }, genre, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"books-list\",\n      children: filteredBooks.map(book => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"book\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: `/item/${book.id}`,\n          className: \"book-link\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"book-image\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: book.image,\n              alt: book.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: book.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: book.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this)\n      }, book.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(Catalog, \"GR+DNHIw2mmlYCmSZHkVEP4zWrQ=\");\n_c = Catalog;\nexport default Catalog;\nvar _c;\n$RefreshReg$(_c, \"Catalog\");","map":{"version":3,"names":["React","useState","useContext","Link","BookContext","SortSelect","jsxDEV","_jsxDEV","Catalog","_s","books","searchTerm","setSearchTerm","sortOrder","setSortOrder","selectedGenre","setSelectedGenre","handleSearch","e","target","value","handleSortChange","order","handleGenreChange","filteredBooks","filter","book","title","toLowerCase","includes","genre","sort","a","b","localeCompare","uniqueGenres","Set","flatMap","split","map","g","trim","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","onSortChange","to","id","src","image","alt","description","_c","$RefreshReg$"],"sources":["C:/lab_8/web_programming_lab6-12/src/components/Catalog/catalog.jsx"],"sourcesContent":["// Catalog.js\r\nimport React, { useState, useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport '../BooksList/Books.css';\r\nimport { BookContext } from '../BookContext.js';\r\nimport SortSelect from '../select.js';\r\n\r\nconst Catalog = () => {\r\n  const { books } = useContext(BookContext);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [sortOrder, setSortOrder] = useState('asc');\r\n  const [selectedGenre, setSelectedGenre] = useState('');\r\n\r\n  const handleSearch = (e) => {\r\n    setSearchTerm(e.target.value);\r\n  };\r\n\r\n  const handleSortChange = (order) => {\r\n    setSortOrder(order);\r\n  };\r\n\r\n  const handleGenreChange = (e) => {\r\n    setSelectedGenre(e.target.value);\r\n  };\r\n\r\n  const filteredBooks = books\r\n  .filter((book) => \r\n    book.title.toLowerCase().includes(searchTerm.toLowerCase()) && \r\n    (selectedGenre === '' || book.genre.includes(selectedGenre))\r\n  )\r\n  .sort((a, b) =>\r\n    sortOrder === 'asc'\r\n      ? a.title.localeCompare(b.title)\r\n      : b.title.localeCompare(a.title)\r\n  );\r\n\r\n\r\n  const uniqueGenres = [...new Set(books.flatMap((book) => book.genre.split(', ').map((g) => g.trim())))]; \r\n\r\n  return (\r\n    <div className=\"books-container\">\r\n      <h2 className=\"books-title\">Каталог книг</h2>\r\n\r\n      <div className=\"controls\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Пошук книг\"\r\n          value={searchTerm}\r\n          onChange={handleSearch}\r\n          className=\"search-input\"\r\n        />\r\n        <SortSelect sortOrder={sortOrder} onSortChange={handleSortChange} />\r\n\r\n        <select value={selectedGenre} onChange={handleGenreChange} className=\"genre-select\">\r\n          <option value=\"\">Всі жанри</option>\r\n          {uniqueGenres.map((genre) => (\r\n            <option key={genre} value={genre}>\r\n              {genre}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"books-list\">\r\n        {filteredBooks.map((book) => (\r\n          <div key={book.id} className=\"book\">\r\n            <Link to={`/item/${book.id}`} className=\"book-link\">\r\n              <div className=\"book-image\">\r\n                <img src={book.image} alt={book.title} />\r\n              </div>\r\n              <h3>{book.title}</h3>\r\n              <p>{book.description}</p>\r\n            </Link>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Catalog;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}